<!DOCTYPE html>
<html>
<style>
	
	#container {
		width: 800px;
		height: 400px;
		position: relative;
	}
	
	#objeto {
		width: 700px;
		height: 300px;
		position: relative;
	}

	.circulo {
		position: absolute;
		border-radius:100%;
	}
</style>
<body>

<p>
	<button onclick="genera()">Genera</button>
	<button onclick="limpiar()">Limpia</button>
</p> 
<div id="contando">
		<span id="bola">Numero de Bola:</span>
            <br>
        <span id="clicks">Numero de Clicks:</span>
</div> 

<div id ="container">	
		<div id ="objeto"></div>
</div>
 

<script>
	
	var contador = 0;		

	function genera() {
		 
		var circu = document.createElement("div"); //crea un elemento en la memoria pero aun no se ve 
		circu.className="circulo"; //Aplicamos una clase, estilos, id y atributos
  
		var newColor = "rgb(" + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + ")";
		circu.style.backgroundColor = newColor;// color aleatorio
     
		   //posición horizontal aleatorio
		circu.style.left = getRand(0, 700) + "px"; // para darle la posicion horizontal aleatoria utilizo otra funcion que esta desarrollada abajo. 
           
		   //Top comienza en la parte alta del container
		circu.style.top = getRand(0, 300) + "px";
			
			//crea tamaño de circulo de forma aleatoria
		var tamano = ((Math.random() * 100)+10);	
			
		circu.style.width = tamano + "px";
		circu.style.height = tamano  + "px";
		circu.value=0;	
		circu.setAttribute("id", "circulo" + contador); //crea bolas individualizadas y numeradas		
		contador++;
		document.getElementById("container").appendChild(circu); //agregamos la capa circulo a container
		circu.setAttribute("onclick", "seleccion(this)"); // crea el onclick individual
	}
   
	function getRand(min, max) { //esta funcion ayuda a crear la posicion de forma aleatoria
		return Math.random() * (max - min) + min;
	}	
	
	function seleccion(circu){
			circu.value++;
			document.getElementById("clicks").innerHTML = "Numero de Circulo: " + circu.id  ;
			document.getElementById("bola").innerHTML = "Numero de Clicks: " + circu.value  ;
    }
  //var todasCapas;
    
  function limpiar(){
		
			var todasCapas = document.querySelectorAll(".circulo");//borra todas las clases circulos
		
			//todasCapas=document.getElementsByClassName("circulo"); Con este metodo hay que usar while no  for
			
			for (var i=0; i<todasCapas.length; i++){
				todasCapas[i].parentNode.removeChild(todasCapas[i]);
				}
	}

	 
</script>

</body>
</html>

