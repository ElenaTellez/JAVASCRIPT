<!DOCTYPE html>
<html>
<style>
	
	#container {
		width: 800px;
		height: 400px;
		position: relative;
	}
	
	#objeto {
		width: 700px;
		height: 300px;
		position: relative;
	}

	.circulo {
		position: absolute;
		border-radius:100%;		
		left: 1px;
	}
</style>
<body>

<p>
	<button onclick="genera()">Genera</button>
	<button onclick="limpiar()">Limpia</button>
</p> 

<div id ="container">	
		<div id ="objeto"></div>
</div>
 

<script>
	
	var contador = 0;		

	function genera() {
		 
		var circu = document.createElement("div"); //crea un elemento en la memoria pero aun no se ve 
		circu.className="circulo"; //Aplicamos una clase, estilos, id y atributos
  
		var newColor = "rgb(" + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + ")";
		circu.style.backgroundColor = newColor;// color aleatorio
     
		   //posición horizontal aleatorio
		//circu.style.left = getRand(0, 800) + "px"; // para darle la posicion horizontal aleatoria utilizo otra funcion que esta desarrollada abajo. 
       circu.style.top = getRand(0, 600) + "px";   
		   //Top comienza en la parte alta del container
		
			
			//crea tamaño de circulo de forma aleatoria
		var tamano = ((Math.random() * 100)+10);	
			
		circu.style.width = tamano + "px";
		circu.style.height = tamano  + "px";
		circu.value=0;	
		circu.setAttribute("id", "circulo" + contador); //crea bolas individualizadas y numeradas		
		contador++;
		document.getElementById("container").appendChild(circu); //agregamos la capa circulo a container
		circu.setAttribute("ondblclick", "seleccion(this)"); // crea el onclick individual
	}
   
	function getRand(min, max) { //esta funcion ayuda a crear la posicion de forma aleatoria
		return Math.random() * (max - min) + min;
	}	
	
	function seleccion(circu){
			//circu.offsetLeft
			 var idinterval = setInterval(function () {
				//Calcula su left lo mismo que offsetTop calcula el top
                var posicion = circu.offsetLeft;
			
                if (posicion < 1000) {
                    circu.style.left = (posicion += 2) + "px";
                } else {
					posicion == 1000
                    circu.style.left = 0 + "px";
                }
            }, 20)	
			
    }
  //var todasCapas;
    
  function limpiar(){
		
			var todasCapas = document.querySelectorAll(".circulo");//borra todas las clases circulos
		
			//todasCapas=document.getElementsByClassName("circulo"); Con este metodo hay que usar while no  for
			
			for (var i=0; i<todasCapas.length; i++){
				todasCapas[i].parentNode.removeChild(todasCapas[i]);
				}
	}

	 
</script>

</body>
</html>
